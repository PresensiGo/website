{"openapi":"3.0.1","info":{"title":"PresensiGo API","description":"","contact":{},"version":"1.0"},"servers":[{"url":"/"}],"paths":{"/api/v1/attendances":{"post":{"tags":["attendance"],"operationId":"createAttendance","requestBody":{"description":"Body","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreateAttendanceReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/attendances/classrooms/{classroom_id}":{"get":{"tags":["attendance"],"operationId":"getAllAttendances","parameters":[{"name":"classroom_id","in":"path","description":"Classroom Id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllAttendancesRes"}}}}}}},"/api/v1/attendances/{attendance_id}":{"get":{"tags":["attendance"],"operationId":"getAttendance","parameters":[{"name":"attendance_id","in":"path","description":"Attendance Id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAttendanceRes"}}}}}},"delete":{"tags":["attendance"],"operationId":"deleteAttendance","parameters":[{"name":"attendance_id","in":"path","description":"Attendance Id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth"],"operationId":"login","requestBody":{"description":"Login request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/requests.Login"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/responses.Login"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/auth/logout":{"post":{"tags":["auth"],"operationId":"logout","requestBody":{"description":"Logout Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/requests.Logout"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/responses.Logout"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/auth/refresh-token":{"post":{"tags":["auth"],"operationId":"refreshToken","requestBody":{"description":"Refresh token req","content":{"*/*":{"schema":{"$ref":"#/components/schemas/requests.RefreshToken"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/responses.RefreshToken"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/auth/refresh-token-ttl":{"post":{"tags":["auth"],"operationId":"refreshTokenTTL","requestBody":{"description":"Refresh token req","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RefreshTokenTTLReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/auth/register":{"post":{"tags":["auth"],"operationId":"register","requestBody":{"description":"Login request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/requests.Register"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/responses.Register"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/batches":{"get":{"tags":["batch"],"operationId":"getAllBatches","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/responses.GetAllBatches"}}}}}},"post":{"tags":["batch"],"operationId":"createBatch","requestBody":{"description":"body","content":{"*/*":{"schema":{"$ref":"#/components/schemas/api_internal_features_batch_dto_requests.Create"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/domains.Batch"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/batches/{batch_id}":{"put":{"tags":["batch"],"operationId":"updateBatch","parameters":[{"name":"batch_id","in":"path","description":"batch id","required":true,"schema":{"type":"integer"}}],"requestBody":{"description":"body","content":{"*/*":{"schema":{"$ref":"#/components/schemas/requests.Update"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/domains.Batch"}}}}},"x-codegen-request-body-name":"body"},"delete":{"tags":["batch"],"operationId":"deleteBatch","parameters":[{"name":"batch_id","in":"path","description":"batch id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/classrooms/batches/{batch_id}":{"get":{"tags":["classroom"],"operationId":"getAllClassroomWithMajors","parameters":[{"name":"batch_id","in":"path","description":"Batch Id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/responses.GetAllClassroomWithMajors"}}}}}}},"/api/v1/excel/import":{"post":{"tags":["excel"],"operationId":"importData","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/latenesses":{"get":{"tags":["lateness"],"operationId":"getAllLatenesses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllLatenessesRes"}}}}}},"post":{"tags":["lateness"],"operationId":"createLateness","requestBody":{"description":"Payload","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreateLatenessReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/latenesses/{lateness_id}":{"get":{"tags":["lateness"],"operationId":"getLateness","parameters":[{"name":"lateness_id","in":"path","description":"Lateness ID","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetLatenessRes"}}}}}},"post":{"tags":["lateness"],"operationId":"createLatenessDetail","parameters":[{"name":"lateness_id","in":"path","description":"Payload","required":true,"schema":{"type":"integer"}}],"requestBody":{"description":"Payload","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreateLatenessDetailReq"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/majors":{"get":{"tags":["major"],"operationId":"getAllMajors","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/domains.Major"}}}}}}},"post":{"tags":["major"],"operationId":"createMajor","requestBody":{"description":"body","content":{"*/*":{"schema":{"$ref":"#/components/schemas/api_internal_features_major_dto_requests.Create"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/domains.Major"}}}}},"x-codegen-request-body-name":"body"}},"/api/v1/majors/batch/{batch_id}":{"get":{"tags":["major"],"operationId":"getAllMajorsByBatchId","parameters":[{"name":"batch_id","in":"path","description":"Batch Id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/responses.GetAllMajorsByBatchId"}}}}}}},"/api/v1/reset":{"get":{"tags":["reset"],"operationId":"reset","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/students":{"get":{"tags":["student"],"operationId":"getAllStudents","parameters":[{"name":"keyword","in":"query","description":"Keyword","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllStudentsRes"}}}}}}},"/api/v1/students/classrooms/{classroom_id}":{"get":{"tags":["student"],"operationId":"getAllStudentsByClassroomId","parameters":[{"name":"classroom_id","in":"path","description":"Classroom Id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAllStudentsByClassroomIdRes"}}}}}}}},"components":{"schemas":{"CreateAttendanceItemReq":{"type":"object","properties":{"note":{"type":"string"},"status":{"$ref":"#/components/schemas/models.AttendanceStatus"},"student_id":{"type":"integer"}}},"CreateAttendanceReq":{"type":"object","properties":{"attendance_students":{"type":"array","items":{"$ref":"#/components/schemas/CreateAttendanceItemReq"}},"classroom_id":{"type":"integer"},"date":{"type":"string"}}},"CreateLatenessDetailReq":{"required":["student_ids"],"type":"object","properties":{"student_ids":{"type":"array","items":{"type":"integer"}}}},"CreateLatenessReq":{"required":["date"],"type":"object","properties":{"date":{"type":"string"}}},"GetAllAttendancesRes":{"required":["attendances"],"type":"object","properties":{"attendances":{"type":"array","items":{"$ref":"#/components/schemas/domains.Attendance"}}}},"GetAllLatenessesRes":{"required":["latenesses"],"type":"object","properties":{"latenesses":{"type":"array","items":{"$ref":"#/components/schemas/domains.Lateness"}}}},"GetAllStudentsByClassroomIdRes":{"required":["students"],"type":"object","properties":{"students":{"type":"array","items":{"$ref":"#/components/schemas/domains.Student"}}}},"GetAllStudentsRes":{"required":["students"],"type":"object","properties":{"students":{"type":"array","items":{"$ref":"#/components/schemas/domains.StudentMajorClassroom"}}}},"GetAttendanceItemRes":{"required":["attendanceStudent","student"],"type":"object","properties":{"attendanceStudent":{"$ref":"#/components/schemas/domains.AttendanceDetail"},"student":{"$ref":"#/components/schemas/domains.Student"}}},"GetAttendanceRes":{"required":["attendance","items"],"type":"object","properties":{"attendance":{"$ref":"#/components/schemas/domains.Attendance"},"items":{"type":"array","items":{"$ref":"#/components/schemas/GetAttendanceItemRes"}}}},"GetLatenessRes":{"required":["items","lateness"],"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/domains.StudentMajorClassroom"}},"lateness":{"$ref":"#/components/schemas/domains.Lateness"}}},"RefreshTokenTTLReq":{"type":"object","properties":{"refresh_token":{"type":"string"}}},"api_internal_features_batch_dto_requests.Create":{"type":"object","properties":{"name":{"type":"string"}}},"api_internal_features_major_dto_requests.Create":{"required":["batch_id","name"],"type":"object","properties":{"batch_id":{"type":"integer"},"name":{"type":"string"}}},"domains.Attendance":{"required":["classroom_id","date","id"],"type":"object","properties":{"classroom_id":{"type":"integer"},"date":{"type":"string"},"id":{"type":"integer"}}},"domains.AttendanceDetail":{"required":["attendance_id","id","note","status","student_id"],"type":"object","properties":{"attendance_id":{"type":"integer"},"id":{"type":"integer"},"note":{"type":"string"},"status":{"$ref":"#/components/schemas/models.AttendanceStatus"},"student_id":{"type":"integer"}}},"domains.Batch":{"required":["id","name","school_id"],"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"school_id":{"type":"integer"}}},"domains.BatchInfo":{"required":["batch","classrooms_count","majors_count"],"type":"object","properties":{"batch":{"$ref":"#/components/schemas/domains.Batch"},"classrooms_count":{"type":"integer"},"majors_count":{"type":"integer"}}},"domains.Classroom":{"required":["id","major_id","name"],"type":"object","properties":{"id":{"type":"integer"},"major_id":{"type":"integer"},"name":{"type":"string"}}},"domains.Lateness":{"required":["date","id","school_id"],"type":"object","properties":{"date":{"type":"string"},"id":{"type":"integer"},"school_id":{"type":"integer"}}},"domains.Major":{"required":["batch_id","id","name"],"type":"object","properties":{"batch_id":{"type":"integer"},"id":{"type":"integer"},"name":{"type":"string"}}},"domains.Student":{"required":["classroom_id","id","name","nis"],"type":"object","properties":{"classroom_id":{"type":"integer"},"id":{"type":"integer"},"name":{"type":"string"},"nis":{"type":"string"}}},"domains.StudentMajorClassroom":{"required":["classroom","major","student"],"type":"object","properties":{"classroom":{"$ref":"#/components/schemas/domains.Classroom"},"major":{"$ref":"#/components/schemas/domains.Major"},"student":{"$ref":"#/components/schemas/domains.Student"}}},"models.AttendanceStatus":{"type":"string","enum":["hadir","izin","sakit","alpha"],"x-enum-varnames":["AttendancePresent","AttendancePermission","AttendanceSick","AttendanceAlpha"]},"requests.Login":{"type":"object","properties":{"email":{"type":"string","default":"email@email.com"},"password":{"type":"string"}}},"requests.Logout":{"required":["refresh_token"],"type":"object","properties":{"refresh_token":{"type":"string"}}},"requests.RefreshToken":{"type":"object","properties":{"refresh_token":{"type":"string"}}},"requests.Register":{"type":"object","properties":{"code":{"type":"string"},"email":{"type":"string","default":"email@email.com"},"name":{"type":"string","default":"John Doe"},"password":{"type":"string","default":"password"}}},"requests.Update":{"type":"object","properties":{"name":{"type":"string"}}},"responses.ClassroomMajor":{"required":["classroom","major"],"type":"object","properties":{"classroom":{"$ref":"#/components/schemas/domains.Classroom"},"major":{"$ref":"#/components/schemas/domains.Major"}}},"responses.GetAllBatches":{"required":["batches"],"type":"object","properties":{"batches":{"type":"array","items":{"$ref":"#/components/schemas/domains.BatchInfo"}}}},"responses.GetAllClassroomWithMajors":{"required":["data"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/responses.ClassroomMajor"}}}},"responses.GetAllMajorsByBatchId":{"required":["majors"],"type":"object","properties":{"majors":{"type":"array","items":{"$ref":"#/components/schemas/domains.Major"}}}},"responses.Login":{"required":["access_token","refresh_token"],"type":"object","properties":{"access_token":{"type":"string"},"refresh_token":{"type":"string"}}},"responses.Logout":{"type":"object"},"responses.RefreshToken":{"required":["access_token","refresh_token"],"type":"object","properties":{"access_token":{"type":"string"},"refresh_token":{"type":"string"}}},"responses.Register":{"required":["access_token","refresh_token"],"type":"object","properties":{"access_token":{"type":"string"},"refresh_token":{"type":"string"}}}}},"x-original-swagger-version":"2.0"}